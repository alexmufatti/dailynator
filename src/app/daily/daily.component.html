<div class="daily-container">
  <header class="panel-header">
    @if (dailyJoke) {
      <div class="daily-joke-wrapper">
        <p class="daily-joke">{{ dailyJoke }}</p>
        @if (dailyAuthor) {
          <span class="daily-author">â€” {{ dailyAuthor }}</span>
        }
      </div>
    }
  </header>

  <section class="focus-card">
    <div class="name-container">
      @if (remaining.length) {
        <p class="label">Next up</p>
        <h2>{{ next()?.name ?? 'Tap Next' }}</h2>
      } @else {
        <h2 class="done">Done for today!</h2>
      }
    </div>
    <div class="button-container">
      @if (remaining.length) {
        <button mat-flat-button color="primary" (click)="selectNext()">Next</button>
        <button mat-stroked-button (click)="skip()">Skip</button>
      }
      <button mat-stroked-button color="accent" (click)="reset()">Reset</button>
    </div>
  </section>

  <section class="lists">
    <mat-card class="list-card">
      <mat-card-header>
        <mat-card-title>Remaining ({{ remaining.length }})</mat-card-title>
      </mat-card-header>
      <mat-list>
        @for (participant of remaining; track participant.name) {
        <mat-list-item>
          {{ participant.name }}
        </mat-list-item>
        } @empty {
        <mat-list-item>Nessuno in coda</mat-list-item>
        }
      </mat-list>
    </mat-card>

    <mat-card class="list-card" *ngIf="done.length">
      <mat-card-header>
        <mat-card-title>Done ({{ done.length }})</mat-card-title>
      </mat-card-header>
      <mat-list>
        @for (participant of done; track participant.name) {
        <mat-list-item>
          {{ participant.name }}
        </mat-list-item>
        }
      </mat-list>
    </mat-card>
  </section>
</div>
